/*!
 * instaFilta
 * Description: "jQuery plugin for performing in-page filtering"
 * Version: "1.1.0"
 * Homepage: https://github.com/chromawoods/instaFilta
 * Author: Andreas Larsson <andreas@chromawoods.com> (http://chromawoods.com)
 * 
 * Modified by Alex Braha Stoll, adding the ability to do accent insensitive searches.
 * See https://github.com/alexbrahastoll/instaFilta/tree/release for more details.
 */
!function(t){t.fn.instaFilta=function(e){var a,n=t.extend({targets:".instafilta-target",sections:".instafilta-section",matchCssClass:"instafilta-match",markMatches:!1,hideEmptySections:!0,beginsWith:!1,caseSensitive:!1,replaceAccents:!1,accentsToFind:"àáäâãèéëêìíïîòóöôõùúüûç",replaceWith:"aaaaaeeeeiiiiooooouuuuc",typeDelay:0},e),s=t(n.targets),c=t(n.sections),l="",r=function(){c.each(function(){var e=t(this);e.toggle(!!e.find('[data-instafilta-hide="false"]').length)})},o=function(e){return e=n.caseSensitive?e:e.toLowerCase(),e=n.replaceAccents?h(e):e,l===e?!1:(l=e,e||(s.attr("data-instafilta-hide","false").show(),c.show()),s.each(function(){var a=t(this),i=a.text(),s=i,c=null;s=n.caseSensitive?i:i.toLowerCase(),s=n.replaceAccents?h(s):s;var l=s.indexOf(e);a.data("originalText")?a.html(a.data("originalText")):a.data("originalText",i),l>=0&&n.markMatches&&(c=i.substring(l,l+e.length),a.html(i.replace(c,'<span class="'+n.matchCssClass+'">'+c+"</span>"))),a.attr("data-instafilta-hide",n.beginsWith&&0!==l||0>l?"true":"false")}),s.filter('[data-instafilta-hide="true"]').hide(),s.filter('[data-instafilta-hide="false"]').show(),n.hideEmptySections&&r(),void 0)},h=function(t){for(i=0;i<n.accentsToFind.length;i++)t=t.replace(new RegExp(n.accentsToFind.charAt(i),"g"),n.replaceWith.charAt(i));return t},f=function(){var e=t(this);clearTimeout(a),a=setTimeout(function(){o(e.val())},n.typeDelay)};return t(this).on("keyup",f)}}(jQuery);